<%- include('../../partials/user-navbar') %>
<%- include('../../partials/second-navbar') %>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
/>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Books</title>
    <link rel="stylesheet" href="/css/style.css" />
    <!-- Adjust the path to your CSS file -->
  </head>
  <body>
    <!DOCTYPE html>
    <html>
      <head>
        <title>Home Page</title>
      </head>
      <body>
        <h1>Welcome to our store!</h1>
        <h2 id="new-arrivals">New Arrivals</h2>
        <% if (newArrivals.length === 0) { %>
        <p>No new products available.</p>
        <% } else { %>
        <ul class="product-list">
          <% newArrivals.forEach(product => { %>
          <li class="product-item">
            <h3><%= product.title %></h3>
           
            <p class="price">Price: $<%= product.price %></p>
            <!-- Display image if available -->
            <% if (product.image && product.image.path) { %>
            <img src="<%= product.image.path %>" alt="<%= product.title %>" />
            <% } %>
            <a href="/user/products/<%= product._id %>" class="view-details-button"
              >View Details</a
            >
          </li>
          <% }); %>
        </ul>
        <% } %>
    
        <h2 id="featured-products">Featured Products</h2>
        <% if (featuredProducts.length === 0) { %>
        <p>No featured products available.</p>
        <% } else { %>
        <ul class="product-list">
          <% featuredProducts.forEach(product => { %>
          <li class="product-item">
            <h3><%= product.title %></h3>
            
            <p class="price">Price: $<%= product.price %></p>
            <!-- Display image if available -->
            <% if (product.image && product.image.path) { %>
            <img src="<%= product.image.path %>" alt="<%= product.title %>" />
            <% } %>
            <a href="/user/products/<%= product._id %>" class="view-details-button"
              >View Details</a
            >
          </li>
          <% }); %>
        </ul>
        <% } %>
        <h2 id="top-selling-products">Top Selling Products</h2>
        <% if (topSellingProducts.length === 0) { %>
        <p>No top-selling products available.</p>
        <% } else { %>
        <ul class="product-list">
          <% topSellingProducts.forEach(product => { %>
          <li class="product-item">
            <h3><%= product.title %></h3>
            
            <p class="price">Price: $<%= product.price %></p>
            <!-- Display image if available -->
            <% if (product.image && product.image.path) { %>
            <img src="<%= product.image.path %>" alt="<%= product.title %>" />
            <% } %>
            <a href="/user/products/<%= product._id %>" class="view-details-button"
              >View Details</a
            >
          </li>
          <% }); %>
        </ul>
        <% } %>
      </body>
    </html>
    </html>
    <style>
       .section-title {
    font-size: 24px;
    font-weight: bold;
    color: white;
    padding: 10px;
    background-color: gray; /* Set the background color to gray */
    border-radius: 5px;
    text-align: center;
    margin: 20px 0; /* Add margin for spacing */
  }
      /* Featured and Top Selling Products */
      h2 {
        font-size: 24px;
        margin-top: 30px;
        margin-bottom: 10px;
      }

      .product-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-wrap: wrap;
      }

      .product-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 200px;
        padding: 10px;
        margin: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        background-color: #f9f9f9;
        transition: background-color 0.3s ease;
      }

      .product-item:hover {
        background-color: #e0e0e0;
        cursor: pointer;
      }

      .product-item img {
        width: 100px;
        height: 150px;
        object-fit: cover;
        border-radius: 5px;
        margin-bottom: 10px;
      }

      .product-item h3 {
        font-size: 18px;
        margin-bottom: 5px;
      }

      .product-item p {
        font-size: 14px;
        margin-bottom: 5px;
      }

      .product-item p.price {
        font-weight: bold;
      }

      /* View Details Button */
      .view-details-button {
        display: inline-block;
        background-color: #4caf50;
        color: white;
        text-decoration: none;
        padding: 8px 16px;
        border-radius: 5px;
        font-weight: bold;
        margin-top: 10px;
        transition: background-color 0.2s ease-in-out;
      }

      .view-details-button:hover {
        background-color: #45a049;
      }

    
    </style>

    <h1>All Books</h1>
    <div class="product-container">
      <% products.forEach(product => { %>
      <div class="product">
        <h2><%= product.title %></h2>

        <p>Price: $<%= product.price %></p>
        <img src="<%= product.image.path %>" alt="Product Image" />

        <a href="/user/products/<%= product._id %>">View Details</a>
      </div>
      <% }) %>
    </div>
    <script type="text/javascript">
      function search() {
        let filter = document.getElementById("find").value.toUpperCase();

        let item = document.querySelectorAll(".product");

        let l = document.getElementsByTagName("h2");
        for (var i = 0; i <= l.length; i++) {
          let a = item[i].getElementsByTagName("h2")[0];
          let value = a.innerHTML || a.innerText || a.textContent;

          if (value.toUpperCase().indexOf(filter) > -1) {
            item[i].style.display = "";
          } else {
            item[i].style.display = "none";
          }
        }
      }
    </script>
  </body>
</html>

<style>
  body {
    background: linear-gradient(to right, #757f9a, #d7dde8);
  }
  /* CSS for the product container */
  .product {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    margin: 10px;
    width: 220px;
    height: 360px; /* Equal height and width to make the card square */
    text-align: center;
    background-color: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  /* CSS for the product title */
  .product h2 {
    font-size: 1.2em;
    margin-bottom: 10px;
    color: #333;
  }

  /* CSS for the product price */
  .product p {
    font-size: 1em;
    color: #555;
    margin-bottom: 5px;
  }

  /* CSS for the product image */
  .product img {
    width: 100%;
    height: 70%;
    border-radius: 5px;
    margin-bottom: 10px;
  }

  /* CSS for the product summary */
  .product p.summary {
    font-size: 1em;
    color: #777;
    margin-bottom: 15px;
  }

  .product a {
    display: inline-block;
    background-color: #4caf50;
    color: white;
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 5px;
    font-weight: bold;
    transition: background-color 0.2s ease-in-out;
  }

  /* Change link color on hover */
  .product:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    cursor: pointer;
  }

  .product a:hover {
    background-color: #45a049;
    transform: translateY(-2px);
  }
</style>

<%- include('../../partials/footer') %>
